{
  "openapi": "3.0.0",
  "info": {
    "description": "bandcamp",
    "version": "1.0.0",
    "title": "Bandcamp"
  },
  "servers": [
    {
      "url": "https://bandcamp.com/api",
      "description": "API endpoint. Does NOT serve any artwork."
    },
    {
      "url": "https://f0.bcbits.com",
      "description": "Artwork serving & resizing. Does NOT serve the API. f0 can vary to f1, f4 etc."
    }
  ],
  "paths": {
    "/band/3/search": {
      "get": {
        "summary": "Search for bands.",
        "tags": [
          "Bands"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "band_id",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "the bands"
          }
        }
      }
    },
    "/band/3/discography": {
      "get": {
        "summary": "Get a band's discography.",
        "tags": [
          "Bands"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "name",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "the bands"
          }
        }
      }
    },
    "/album/2/info": {
      "get": {
        "summary": "Get album information.",
        "tags": [
          "Albums"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "album_id",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "the album"
          }
        }
      }
    },
    "/track/3/info": {
      "get": {
        "summary": "Get track information.",
        "tags": [
          "Tracks"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "track_id",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "the tracks"
          }
        }
      }
    },
    "/fancollection/1/followers": {
      "post": {
        "summary": "Get a user's followers",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The followers"
          }
        }
      }
    },
    "/fancollection/1/following_bands": {
      "post": {
        "summary": "Get the bands a user is following",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The followed bands"
          }
        }
      }
    },
    "/fancollection/1/following_fans": {
      "post": {
        "summary": "Get the fans a user is following",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The followed fans"
          }
        }
      }
    },
    "/fancollection/1/collection_items": {
      "post": {
        "summary": "Get a user's collection",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The collection"
          }
        }
      }
    },
    "/fancollection/1/wishlist_items": {
      "post": {
        "summary": "Get a user's wishlist",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The wishlist"
          }
        }
      }
    },
    "/fancollection/1/fan_suggestions": {
      "post": {
        "summary": "Get a user's suggestions? Don't know, really.",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The suggestions"
          }
        }
      }
    },
    "/fancollection/1/gifts_given": {
      "post": {
        "summary": "Get the gifts a user has given?? Don't know, really.",
        "tags": [
          "Fan Collection"
        ],
        "requestBody": {
          "$ref": "#/components/requestBodies/FanCollectionBody"
        },
        "responses": {
          "200": {
            "description": "The gifts"
          }
        }
      }
    },
    "/url/1/info": {
      "get": {
        "summary": "Get information about content on a given bandcamp.com URL.",
        "tags": [
          "URLs"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "url",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "the information"
          }
        }
      }
    },
    "/img/{type}{id}_{format}.jpg": {
      "get": {
        "summary": "Endpoint on https://f0.bcbits.com/ to get various pieces of artwork.",
        "description": "Not really another endpoint, but its own server... here for completeness' sake. *Make sure you use this on https://f0.bcbits.com/!*",
        "tags": [
          "Artwork"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "type",
            "schema": {
              "type": "string",
              "enum": [
                "a",
                "t",
                "p"
              ]
            },
            "description": "- a: Album artwork\n- t: Track artwork\n- p: merchandising? Not sure about this one",
            "required": true,
            "example": "a"
          },
          {
            "in": "path",
            "name": "id",
            "schema": {
              "type": "string"
            },
            "description": "The image ID is left padded with 0 and then truncated to 10 characters.",
            "required": true,
            "example": 1386391961
          },
          {
            "in": "path",
            "name": "format",
            "schema": {
              "type": "integer",
              "enum": [
                0,
                1,
                2,
                3,
                4,
                5,
                7,
                8,
                9,
                20,
                22,
                41,
                42
              ]
            },
            "description": "An integer defining the resulting size. One of the following:\n- 0 => original (size & format, don't use extension)\n- 1 => fullsize (dito, use .original?, even heavier?!?)\n- 2 => 350x350 jpg\n- 3 => 100x100 jpg\n- 4 => 300x300 jpg\n- 5 => 700x700 jpg\n- 7 => 150x150 jpg\n- 8 => 124x124 jpg\n- 9 => 210x210 jpg\n- 10 => 1200x1200 jpg\n\nNon-artwork related, but working?\n- 20 => 1024x1024 jpg\n- 22 => 25x25 jpg\n- 41 => 210x210 jpg\n- 42 => 50x50 jpg",
            "required": true,
            "example": 2
          }
        ],
        "responses": {
          "200": {
            "description": "the artwork",
            "content": {
              "image/*": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/salesfeed/1/get": {
      "get": {
        "summary": "get currently selling items",
        "tags": [
          "Editorial"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "start_date",
            "schema": {
              "type": "integer"
            },
            "description": "timestamp of the moment you want sales data from"
          }
        ],
        "responses": {
          "200": {
            "description": "a list of currently selling albums",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "server_time": {
                      "$ref": "#/components/schemas/Timestamp"
                    },
                    "end_date": {
                      "$ref": "#/components/schemas/Timestamp"
                    },
                    "data_delay_sec": {
                      "$ref": "#/components/schemas/UnknownProperty"
                    },
                    "events": {
                      "type": "array",
                      "items": {
                        "anyOf": [
                          {
                            "$ref": "#/components/schemas/SaleEvent"
                          },
                          {
                            "$ref": "#/components/schemas/DownloadEvent"
                          }
                        ]
                      }
                    },
                    "start_date": {
                      "$ref": "#/components/schemas/Timestamp"
                    },
                    "home_page_values": {
                      "type": "object",
                      "properties": {
                        "sales_count_all_time": {
                          "$ref": "#/components/schemas/UnknownProperty",
                          "example": 40981326
                        },
                        "downloads_count_all_time": {
                          "$ref": "#/components/schemas/UnknownProperty",
                          "example": 182798723
                        },
                        "revenue_total": {
                          "$ref": "#/components/schemas/UnknownProperty",
                          "example": 277276436
                        },
                        "revenue_30d": {
                          "$ref": "#/components/schemas/UnknownProperty",
                          "example": 7291052
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/discover/3/get_web": {
      "get": {
        "summary": "get a list of discovery items",
        "description": "get a list of discovery items: `top` selling, staff `pic`ks, `new` arrivals, `most` recommended",
        "tags": [
          "Editorial"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "p",
            "schema": {
              "type": "integer"
            },
            "description": "Page?"
          },
          {
            "in": "query",
            "name": "s",
            "schema": {
              "$ref": "#/components/schemas/DiscoveryType"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "the items",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total_count": {
                      "type": "integer"
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Album"
                      }
                    },
                    "timestamp": {
                      "type": "string",
                      "example": "05 Mar 2018 16:52:23 GMT"
                    },
                    "data_sig": {
                      "$ref": "#/components/schemas/UnknownProperty"
                    },
                    "spec_id": {
                      "$ref": "#/components/schemas/UnknownProperty"
                    },
                    "ui_sig": {
                      "$ref": "#/components/schemas/UnknownProperty"
                    },
                    "args": {
                      "type": "object",
                      "properties": {
                        "s": {
                          "$ref": "#/components/schemas/DiscoveryType"
                        },
                        "p": {
                          "type": "integer"
                        },
                        "g": {
                          "type": "string",
                          "example": "all"
                        },
                        "r": {
                          "$ref": "#/components/schemas/UnknownProperty"
                        },
                        "following": {
                          "type": "boolean",
                          "description": "wheter a user is following this item or not"
                        },
                        "w": {
                          "type": "integer"
                        },
                        "f": {
                          "type": "string",
                          "example": "all"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "requestBodies": {
      "FanCollectionBody": {
        "description": "JSON data of yet to understand data",
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "fan_id": {
                  "type": "integer",
                  "example": 1234
                },
                "older_than_token": {
                  "type": "string",
                  "description": "The older_than_token string's structure is still unknown to me. It's being used to page through results. The first part of it seems to be some kind of timestamp. Starting with the current time you'd get the last token of the result set, which in turn could be used to fetch more results.",
                  "example": "1504691191:1603563167:a::"
                },
                "count": {
                  "type": "integer",
                  "example": 40,
                  "description": "The number of items to return. There's no known limit: I've run queries with up to 5000 results. Use carefully!\n"
                }
              }
            }
          }
        }
      }
    },
    "schemas": {
      "Album": {
        "type": "object",
        "description": "an album object",
        "properties": {
          "primary_text": {
            "type": "string",
            "description": "the primary text to be shown with an item, eg its albun title",
            "example": "The Cochlear Album 2: Pan's Poison"
          },
          "secondary_text": {
            "$ref": "#/components/schemas/UnknownProperty",
            "example": "TESD4Implants2"
          },
          "id": {
            "type": "integer",
            "example": 3672525499
          },
          "package_title": {
            "type": "string",
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "genre_text": {
            "type": "string",
            "description": "some genre description, afaik pretty much free form",
            "example": "podcasts"
          },
          "art_id": {
            "$ref": "#/components/schemas/ArtworkID"
          },
          "alt_art_image_id": {
            "$ref": "#/components/schemas/ArtworkID"
          },
          "band_id": {
            "type": "integer",
            "example": 245993618,
            "description": "the album artist"
          },
          "bio_image": {
            "type": "object",
            "properties": {
              "width": {
                "type": "integer"
              },
              "image_id": {
                "type": "integer"
              },
              "height": {
                "type": "integer"
              }
            }
          },
          "featured_track": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "example": "The Cochlear Album 2: Pan’s Poison Sample"
              },
              "id": {
                "type": "integer",
                "example": 3056958565
              },
              "encodings_id": {
                "$ref": "#/components/schemas/UnknownProperty"
              },
              "duration": {
                "type": "number",
                "example": 60.694
              },
              "file": {
                "type": "object",
                "properties": {
                  "mp3-128": {
                    "type": "string",
                    "format": "uri"
                  }
                }
              }
            }
          },
          "category": {
            "$ref": "#/components/schemas/UnknownProperty",
            "example": "solr_hack"
          },
          "package_art1": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "package_art2": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "package_art3": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "package_art4": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "publish_date": {
            "type": "string",
            "example": "05 Mar 2018 04:55:34 GMT"
          },
          "item_type_id": {
            "$ref": "#/components/schemas/UnknownProperty",
            "example": "a3672525499solr_hack"
          },
          "is_preorder": {
            "type": "boolean"
          },
          "recommendations": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "url_hints": {
            "type": "object",
            "properties": {
              "custom_domain_verified": {
                "$ref": "#/components/schemas/UnknownProperty"
              },
              "custom_domain": {
                "type": "string",
                "description": "an artist's own, custom domain name"
              },
              "subdomain": {
                "type": "string",
                "description": "the artist's subdomain on bandcamp.com",
                "example": "tesdimplants2"
              },
              "item_type": {
                "type": "string",
                "enum": [
                  "a"
                ],
                "description": "the type can be `a`lbum"
              },
              "slug": {
                "type": "string",
                "example": "the-cochlear-album-2-pans-poison"
              }
            }
          },
          "location_text": {
            "type": "string",
            "example": "New York, New York"
          },
          "extras": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "score": {
            "type": "number",
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "type": {
            "type": "string",
            "description": "`a` for Album",
            "example": "a"
          }
        }
      },
      "DownloadEvent": {
        "type": "object",
        "description": "a download event",
        "properties": {
          "utc_date": {
            "type": "number"
          },
          "event_type": {
            "type": "string",
            "enum": [
              "download"
            ]
          }
        }
      },
      "SaleEvent": {
        "type": "object",
        "description": "a sale event, can have multiple sales",
        "properties": {
          "utc_date": {
            "type": "number"
          },
          "event_type": {
            "type": "string",
            "enum": [
              "sale"
            ]
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SaleItem"
            }
          }
        }
      },
      "SaleItem": {
        "type": "object",
        "description": "an item sold",
        "properties": {
          "utc_date": {
            "type": "number"
          },
          "amount_paid_fmt": {
            "type": "string",
            "description": "formatted amount paid for the item",
            "example": "$6 CAD"
          },
          "amount_paid": {
            "type": "number",
            "example": 6
          },
          "currency": {
            "type": "string",
            "description": "three character currency description",
            "example": "CAD"
          },
          "amount_paid_usd": {
            "type": "number",
            "description": "the paid amount in USD",
            "example": 4.64
          },
          "art_id": {
            "$ref": "#/components/schemas/ArtworkID"
          },
          "package_image_id": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "item_description": {
            "type": "string",
            "description": "Cast of Static and Smoke"
          },
          "track_album_slug_text": {
            "type": "string"
          },
          "artist_name": {
            "type": "string",
            "description": "Vile Creature"
          },
          "slug_type": {
            "type": "string",
            "description": "`a` for artist etc.?",
            "example": "a"
          },
          "releases": {
            "$ref": "#/components/schemas/UnknownProperty"
          },
          "country_code": {
            "type": "string",
            "example": "us"
          },
          "item_type": {
            "$ref": "#/components/schemas/ItemType"
          },
          "item_price": {
            "type": "number"
          },
          "country": {
            "type": "string",
            "example": "United States"
          },
          "art_url": {
            "type": "string",
            "format": "URL",
            "example": "https://f4.bcbits.com/img/a2973040303_7.jpg"
          },
          "album_title": {
            "type": "string"
          },
          "url": {
            "type": "string",
            "format": "URL",
            "description": "the URL where the item can be found",
            "example": "//vilecreature.bandcamp.com/album/cast-of-static-and-smoke"
          }
        }
      },
      "ArtworkID": {
        "type": "integer",
        "description": "the artwork ID",
        "example": 1383920248
      },
      "ItemType": {
        "type": "string",
        "enum": [
          "a"
        ],
        "description": "the type can be `a`lbum"
      },
      "DiscoveryType": {
        "type": "string",
        "enum": [
          "top",
          "pic",
          "new",
          "most"
        ]
      },
      "Timestamp": {
        "type": "integer",
        "description": "a timestamp in unix time",
        "example": 1520400480
      },
      "UnknownProperty": {
        "type": "string",
        "description": "unknown?"
      }
    }
  },
  "externalDocs": {
    "description": "Find out more about Swagger",
    "url": "http://swagger.io"
  }
}